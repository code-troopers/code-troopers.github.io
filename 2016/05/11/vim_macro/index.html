<!doctype html>
<html lang="fr">
  <head>
  <title>Code-Troopers - Macro Vim : C&#39;est trop génial</title>
  <link
    href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css"
    rel="stylesheet"
/>

  
  
    <link href="/main.8ca53.css" rel="stylesheet">
  
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <base href="/">
	
	<link rel="apple-touch-icon" sizes="180x180" href="/img/apple-touch-icon.png">
	<link rel="icon" href="/favicon.ico">
	<link rel="manifest" href="/manifest.json">
	<link rel="mask-icon" href="/img/safari-pinned-tab.svg" color="#ff4400">
	<meta name="theme-color" content="#fff">

  
  <meta property="og:title" content="Macro Vim : C&#39;est trop génial" />
<meta property="og:description" content="Comme certains d’entre vous le savent, j’aime beaucoup Vim. Il n’y a pas très longtemps au Tours JUG, je disais que je n’avais pas de cas d’utilisation des macro dans Vim dont certains disent que c’est LA killer feature. Et bien j’ai trouvé un use case et « c’est trop génial ! » comme dirait Agnès.
Angular2 et macros Vim Les vidéos de Devoxx 2016 sont sorties, dont Angular 2 : Préparez vous dès maintenant à la migration (Benoit Lemoine)." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/2016/05/11/vim_macro/" /><meta property="og:image" content="/img/gopher_moi.png"/><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2016-05-11T00:00:00+00:00" />
<meta property="article:modified_time" content="2016-05-11T00:00:00+00:00" />


  
</head>
  <body class="sans-serif">

    <header>
    <nav>
        
            <a id="id-company" href="/">Code-Troopers</a>
        
            <a id="id-skills" href="#skills">Compétences</a>
        
            <a id="id-portfolio" href="#portfolio">Réalisations</a>
        
            <a id="id-casting" href="https://team.code-troopers.com">L&#39;équipe</a>
        
            <a id="id-blogs" href="/blog">Blog</a>
        
            <a id="id-contact" href="#contact">Contact</a>
        
    </nav>
</header>

    

<section id="blog">
    <div class="wrapper">
        <h1>
            Blog
        </h1>
    </div>

    <section id="article">
        <div class="wrapper">
            <article>
                
                <img src="/blog/../ohmyzsh-banner.png">
                
                
                
                
                <div class="wrapper-content">
                    <h2>Macro Vim : C&#39;est trop génial</h2>
                    
                    
                    <ul class="tags">
                        
                        <li><a href="/tags/vim/">Vim</a></li>
                        
                        <li><a href="/tags/tips/">Tips</a></li>
                        
                        <li><a href="/tags/macro/">Macro</a></li>
                        
                    </ul>
                    
                    <div class="content">
                        <div class="paragraph">
<p>Comme certains d’entre vous le savent, j’aime beaucoup Vim. Il n’y a pas très longtemps au Tours JUG, je disais que je n’avais pas de cas d’utilisation des macro dans Vim dont certains disent que c’est LA killer feature. Et bien j’ai trouvé un use case et « c’est trop génial ! » comme dirait Agnès.</p>
</div>
<div class="paragraph">
<p></p><div style="text-align : center">
<a class="inlineBoxes" href="/images/posts/2016-05-VimMacro/trop_genial.gif" data-lightbox="0" title="trop génial">
        <img class="medium" src="/images/posts/2016-05-VimMacro/trop_genial.gif" alt="trop génial"/>
</a>
</div><p></p>
</div>
<div class="sect1">
<h2 id="_angular2_et_macros_vim">Angular2 et macros Vim</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Les vidéos de Devoxx 2016 sont sorties, dont <a href="https://www.youtube.com/watch?v=5U4OasGuo0o">Angular 2 : Préparez vous dès maintenant à la migration (Benoit Lemoine)</a>. Une des étapes est de passer par les ControllerAs, je ne vais pas refaire la conf ce n’est pas le but. Bref, je travaille sur un projet qui définit les controllers comme ceci :</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$routeProvider.when(&#39;/admin/displayMail&#39;, {templateUrl: &#39;partials/display_mail.html&#39;, controller: &#39;ListMailCtrl&#39;});
$routeProvider.when(&#39;/admin/createEditMail&#39;, {templateUrl: &#39;partials/create_mail.html&#39;, controller: &#39;EditMailCtrl&#39;});
$routeProvider.when(&#39;/admin/createEditMail/:id&#39;, {templateUrl: &#39;partials/create_mail.html&#39;, controller: &#39;EditMailCtrl&#39;});
$routeProvider.when(&#39;/admin/displayUsers&#39;, {templateUrl: &#39;partials/display_users.html&#39;, controller: &#39;DisplayUsersCtrl&#39;});
$routeProvider.when(&#39;/admin/createUser&#39;, {templateUrl: &#39;partials/create_user.html&#39;, controller: &#39;CreateUserCtrl&#39;});
$routeProvider.when(&#39;/admin/updateUser/:login&#39;, {templateUrl: &#39;partials/update_user.html&#39;, controller: &#39;UpdateUserCtrl&#39;});</pre>
</div>
</div>
<div class="paragraph">
<p>Je veux rajouter pour chaque ligne un <code>controllerAs: &#39;monCtrl&#39;</code> avec comme nom le même que le controller associé mais en commençant par une minuscule, et donc obtenir les lignes ci-dessous. J’ai extrait 6 controllers mais en réalité il y en a plutôt une cinquantaine (les noms ont été changés si on me demande).</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$routeProvider.when(&#39;/admin/displayMail&#39;, {templateUrl: &#39;partials/display_mail.html&#39;, controller: &#39;ListMailCtrl&#39;, controllerAs: &#39;listMailCtrl&#39;});
$routeProvider.when(&#39;/admin/createEditMail&#39;, {templateUrl: &#39;partials/create_mail.html&#39;, controller: &#39;EditMailCtrl&#39;, controllerAs: &#39;editMailCtrl&#39;});
$routeProvider.when(&#39;/admin/createEditMail/:id&#39;, {templateUrl: &#39;partials/create_mail.html&#39;, controller: &#39;EditMailCtrl&#39;, controllerAs: &#39;editMailCtrl&#39;});
$routeProvider.when(&#39;/admin/displayUsers&#39;, {templateUrl: &#39;partials/display_users.html&#39;, controller: &#39;DisplayUsersCtrl&#39;, controllerAs: &#39;displayUsersCtrl&#39;});
$routeProvider.when(&#39;/admin/createUser&#39;, {templateUrl: &#39;partials/create_user.html&#39;, controller: &#39;CreateUserCtrl&#39;, controllerAs: &#39;createUserCtrl&#39;});
$routeProvider.when(&#39;/admin/updateUser/:login&#39;, {templateUrl: &#39;partials/update_user.html&#39;, controller: &#39;UpdateUserCtrl&#39;, controllerAs: &#39;updateUserCtrl&#39;});</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>qa</code> : on commence la macro, on enregistre dans a</p>
</li>
<li>
<p><code>/controller:&lt;enter&gt;</code> : on recherche controller:</p>
</li>
<li>
<p><code>eeee</code> : on se déplace de mot en mot pour arriver sur le nom du controller</p>
</li>
<li>
<p><code>yi&#39;</code> : on copie tout ce qui se trouve à l’intérieur des &#39; (le nom du controller donc)</p>
</li>
<li>
<p><code>ela</code> : on se déplace vers la droite et on passe en insertion</p>
</li>
<li>
<p><code>controllerAs: &#39;&#39;&lt;Esc&gt;</code> : on écrit le texte et on repasse en mode normal</p>
</li>
<li>
<p><code>hp</code> : on passe sur la première &#39; et on copie le texte précédemment copié</p>
</li>
<li>
<p><code>bgur</code> : on se place au début du mot et on passe la première lettre en minuscule</p>
</li>
<li>
<p><code>q</code> : fin de l’enregistrement</p>
</li>
<li>
<p><code>50@a</code> : on joue la macro 50 fois</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>ce qui donne :
<code>qa/controller:&lt;enter&gt;eeeeyi’era, controllerAs: &#39;&#39;&lt;Esc&gt;cpbgurq50@a</code></p>
</div>
<div class="paragraph">
<p>Juste en lisant le texte, on a l’impression que c’est compliqué, avec les explications j’espère que ça paraît plus simple, en tout cas ça l’est avec l’habitude. Cela paraît long aussi mais au final c’est rapide à taper, il suffit de voir la vidéo qui est en vitesse réelle :</p>
</div>
<div class="paragraph">
<p></p><div style="text-align: center;margin:50px;">
<video style="width: 100%;" controls="" src="/videos/vim_macro.webm"></video>
</div><p></p>
</div>
</div>
</div>

                    </div>
                    <div class="content-footer">
                        
                        <ul class="tags float">
                            
                            <li><a href="/tags/vim/">Vim</a></li>
                            
                            <li><a href="/tags/tips/">Tips</a></li>
                            
                            <li><a href="/tags/macro/">Macro</a></li>
                            
                        </ul>
                        
                        <section id="author">
                            <div class="date">Rédigé par <span class="author-name">Matthieu</span></div>
                        </section>
                    </div>
                    <div class="share">
                        <span>Partager</span>
                        <ul class="socials">
                            <li>
                                <a target="_blank" title="Facebook"
                                   href="https://www.facebook.com/sharer.php?u=http://code-troopers.com%2f2016%2f05%2f11%2fvim_macro%2f&t=Macro%20Vim%20%3a%20C%27est%20trop%20g%c3%a9nial"
                                   class="facebook-button" rel="nofollow"
                                   onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=500,width=700');return false;">
                                    <i class="ri-facebook-fill"></i>
                                </a>
                            </li>
                            <li>
                                <a target="_blank" title="Twitter"
                                   href="https://twitter.com/share?url=http://code-troopers.com%2f2016%2f05%2f11%2fvim_macro%2f&text=Macro%20Vim%20%3a%20C%27est%20trop%20g%c3%a9nial&via=codetroopers"
                                   rel="nofollow"
                                   onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=400,width=700');return false;">
                                    <i class="ri-twitter-x-fill"></i>
                                </a>
                            </li>
                            <li>
                                <a target="_blank" title="Google +"
                                   href="https://plus.google.com/share?url=http://code-troopers.com%2f2016%2f05%2f11%2fvim_macro%2f&hl=fr"
                                   class="google-button" rel="nofollow"
                                   onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=650');return false;">
                                    <i class="fa fa-google-plus"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div style="clear:both"></div>


                    <div class="back">
                        <div class="pagination">
                            
                            <a href="/2016/05/20/devoxx-2016-huntly/" class="previous-page">
                                <div class="arrow"><div class="arrow_box_left arrow_box">
</div></div>
                                Article précédent
                            </a>
                            
                            
                            <a href="/2016/03/30/android_google_tag_manager_feature_toggle/" class="next-page">
                                Article suivant
                                <div class="arrow"><div class="arrow_box_right arrow_box">
</div></div>
                            </a>
                            
                        </div>
                    </div>

                    <section id="menu">
                        <ul>
                            
                        </ul>
                    </section>

                    <div id="disqus_thread"></div>
                    <script type="text/javascript">
                         
                        var disqus_shortname = 'codetroopers' 
                        var disqus_url = window.location.href
                        if (window.location.protocol != 'http:') {
                            disqus_url = 'http:' + window.location.href.substring(window.location.protocol.length)
                        }

                         
                        (function () {
                            var dsq = document.createElement('script')
                            dsq.type = 'text/javascript'
                            dsq.async = true
                            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq)
                        })()
                    </script>
                    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments
                        powered by Disqus.</a></noscript>
                    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span
                            class="logo-disqus">Disqus</span></a>
                </div>
            </article>
        </div>
    </section>
</section>


    <section id="contact">
    <h1>Contact</h1>
    <div>
        <div><iframe
                    width="100%"
                    height="100%"
                    loading="lazy"
                    frameborder="0" style="border:0"
                    src="https://www.google.com/maps/embed/v1/place?key=AIzaSyBZkgfEiV0p1XY0-7jptEa500_MhqZQUYk&q=Code-Troopers,+37000+Tours+France&zoom=15">
            </iframe></div>
        <div>
            <h2>Code-Troopers</h2>
            <p>
                26 bis rue Abraham Bosse<br>
                37000 Tours - Fr
            </p>
            <p>
                <a href="mailto:contact@code-troopers.com">contact@code-troopers.com</a>
            </p>
            <p>
                <a class="button" href="tel:+33782287216">07 82 28 72 16</a>
            </p>
        </div>
    </div>

    <h1>Suivez nos actualités</h1>

    <ul class="flex">
        <li>
            <a href="https://facebook.com/codetroopers37">
                <i class="ri-facebook-fill ri-3x"></i>
            </a>
        </li>
        <li>
            <a href="https://twitter.com/codetroopers">
                <i class="ri-twitter-x-fill ri-3x"></i>
            </a>
        </li>
        <li>
            <a href="https://github.com/code-troopers">
                <i class="ri-github-fill ri-3x"></i>
            </a>
        </li>
    </ul>
</section>

<footer>
    <div class="wrapper">
        <a href="#top" class="scroll-to-top">
            <img class="arrow" src="/img/arrow.png" alt="arrow">
        </a>
        <img src="/img/footer_logo.png" alt="logo">
        <div>
            <span>©2014 — 2024 Code-Troopers | <a href="/legals.html">Mentions légales</a></span>
            <span>Design : <a href="https://www.descheval.com/">descheval.com</a> | Développement : Code-Troopers</span>
        </div>
    </div>
</footer>

    
    
      <script src="/main.8ca53.js"></script>
    
  </body>
</html>
